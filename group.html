<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Моя группа - NSKHub</title>
    <link rel="icon" type="image/png" href="logo.png"/>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Oswald:wght@500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#FF5500',
            primaryLight: '#FF7733',
            primaryDark: '#CC4400',
            primaryMuted: '#FFAA66',
            background: '#121212',
            surface: '#1E1E1E',
            surfaceLight: '#2A2A2A',
            textPrimary: '#F0F0F0',
            textSecondary: '#B0B0B0',
            accent: '#FFD700',
            gray900: '#111111',
            gray800: '#1A1A1A',
            gray700: '#252525',
            gray600: '#333333',
          },
          fontFamily: {
            'display': ['Oswald', 'sans-serif'],
            'body': ['Montserrat', 'sans-serif'],
          },
          boxShadow: {
            'card': '0 10px 25px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255, 85, 0, 0.1)',
            'card-hover': '0 15px 35px rgba(0, 0, 0, 0.7), 0 0 0 1px rgba(255, 85, 0, 0.2)',
            'glow': '0 0 15px rgba(255, 85, 0, 0.3)',
          }
        }
      }
    }
    </script>
    <style>
    body {
      background: linear-gradient(180deg, #121212 0%, #1A1A1A 100%);
      color: #F0F0F0;
      font-family: 'Montserrat', sans-serif;
      animation: fadeIn 0.8s ease-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .gradient-text {
      background: linear-gradient(90deg, #FF5500, #FFAA66, #FF5500);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-size: 200% auto;
      animation: shine 3s linear infinite;
    }
    @keyframes shine {
      to { background-position: 200% center; }
    }
    header {
      background: linear-gradient(90deg, #1A1A1A 0%, #252525 100%);
      position: sticky;
      top: 0;
      z-index: 50;
      border-bottom: 3px solid #FF5500;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
    }
    .banner-card {
      background: linear-gradient(145deg, #1E1E1E, #1A1A1A);
      border: 1px solid #333;
      border-radius: 12px;
      padding: 1.75rem;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255, 85, 0, 0.05);
      transition: all 0.3s ease, transform 0.2s ease;
      display: flex;
      flex-direction: column;
      height: 100%;
      position: relative;
      overflow: hidden;
    }
    .banner-card::before {
        content: '';
        position: absolute;
        top: 0; left: 0;
        width: 100%; height: 3px;
        background: linear-gradient(90deg, #FF5500, #FFAA66);
        transform: scaleX(0);
        transform-origin: left;
        transition: transform 0.3s ease;
    }
    .banner-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.7), 0 0 0 1px rgba(255, 85, 0, 0.1);
      border-color: #FF5500;
    }
    .banner-card:hover::before {
        transform: scaleX(1);
    }
    .banner-icon {
      background: linear-gradient(145deg, #FF5500, #CC4400);
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1.25rem;
      box-shadow: 0 4px 10px rgba(255, 85, 0, 0.4);
      align-self: center;
    }
    .banner-icon i {
        font-size: 1.75rem;
        color: #FFFFFF;
    }
    .banner-card h2 {
        font-family: 'Oswald', sans-serif;
        font-size: 1.6rem;
        font-weight: 700;
        margin-bottom: 1rem;
        color: #F0F0F0;
        text-align: center;
        letter-spacing: 0.5px;
    }
    .banner-card ul {
        flex-grow: 1;
        margin-bottom: 1.5rem;
    }
    .banner-card li {
        margin-bottom: 0.8rem;
        padding-bottom: 0.8rem;
        border-bottom: 1px solid #333;
    }
    .banner-card li:last-child {
        margin-bottom: 0;
        padding-bottom: 0;
        border-bottom: none;
    }
    .nav-link {
      color: #B0B0B0;
      text-decoration: none;
      font-weight: 500;
      transition: all 0.2s ease;
      display: inline-flex;
      align-items: center;
    }
    .nav-link i {
        margin-right: 8px;
        font-size: 0.9em;
        min-width: 20px;
        text-align: center;
        color: #FF5500;
    }
    .nav-link:hover {
      color: #FFAA66;
      text-decoration: none;
    }
    .nav-link:hover i {
        transform: translateX(3px);
        color: #FFAA66;
    }
    .btn-primary {
      background: linear-gradient(90deg, #FF5500, #FF7733);
      color: #FFFFFF;
      padding: 0.7rem 1.3rem;
      border: none;
      border-radius: 30px;
      font-weight: 600;
      font-family: 'Oswald', sans-serif;
      letter-spacing: 0.5px;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 10px rgba(255, 85, 0, 0.3);
      text-transform: uppercase;
      font-size: 0.9rem;
    }
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(255, 85, 0, 0.5);
      background: linear-gradient(90deg, #FF7733, #FF5500);
    }
    .btn-primary:active {
      transform: translateY(0);
    }
    .btn-primary i {
        margin-right: 8px;
    }
    .btn-secondary {
      background: linear-gradient(90deg, #444, #555);
      color: #F0F0F0;
      padding: 0.7rem 1.3rem;
      border: none;
      border-radius: 30px;
      font-weight: 600;
      font-family: 'Oswald', sans-serif;
      letter-spacing: 0.5px;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      text-transform: uppercase;
      font-size: 0.9rem;
    }
    .btn-secondary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.5);
      background: linear-gradient(90deg, #555, #666);
    }
    .font-size-toggle span {
      cursor: pointer;
      margin: 0 0.4rem;
      padding: 0.4rem 0.7rem;
      border-radius: 4px;
      color: #B0B0B0;
      font-weight: 500;
      transition: all 0.2s ease;
      background-color: rgba(255, 255, 255, 0.05);
      border: 1px solid transparent;
    }
    .font-size-toggle span:hover {
      background-color: rgba(255, 85, 0, 0.1);
      color: #FFAA66;
      border-color: #FF5500;
    }
    .search-block {
      position: relative;
    }
    .search-input {
      background: #1E1E1E;
      color: #F0F0F0;
      border: 2px solid #333;
      border-radius: 30px;
      padding: 0.7rem 1.2rem 0.7rem 2.7rem;
      font-size: 0.95rem;
      font-family: 'Montserrat', sans-serif;
      transition: all 0.3s ease;
      width: 100%;
      max-width: 250px;
    }
    .search-input:focus {
      border-color: #FF5500;
      outline: none;
      box-shadow: 0 0 0 3px rgba(255, 85, 0, 0.2);
      background: #252525;
    }
    .search-icon {
        position: absolute;
        left: 1.2rem;
        top: 50%;
        transform: translateY(-50%);
        color: #B0B0B0;
    }
    footer {
      background: linear-gradient(90deg, #1A1A1A 0%, #252525 100%);
      border-top: 3px solid #FF5500;
      box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.3);
    }
    .footer-section h3 {
        color: #FF5500;
        font-family: 'Oswald', sans-serif;
        font-size: 1.2rem;
        font-weight: 600;
        margin-bottom: 1.2rem;
        border-bottom: 1px solid #333;
        padding-bottom: 0.6rem;
        display: flex;
        align-items: center;
    }
    .footer-section h3 i {
        margin-right: 10px;
        font-size: 1.1rem;
    }
    .footer-link {
        display: block;
        margin-bottom: 0.6rem;
        color: #B0B0B0;
        transition: color 0.2s ease;
        text-decoration: none;
    }
    .footer-link:hover {
        color: #FFAA66;
        text-decoration: underline;
    }
    .contact-highlight {
        color: #FF5500;
        font-weight: 600;
    }
    /* Стили для модальных окон */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      animation: fadeIn 0.3s ease-out;
    }
    .modal-content {
      background: linear-gradient(145deg, #1E1E1E, #1A1A1A);
      margin: 5% auto;
      padding: 0;
      border: 1px solid #333;
      border-radius: 12px;
      width: 90%;
      max-width: 500px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.8);
      overflow: hidden;
      animation: slideIn 0.3s ease-out;
    }
    @keyframes slideIn {
      from { transform: translateY(-50px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    .modal-header {
      padding: 1.5rem;
      background: linear-gradient(90deg, #1A1A1A 0%, #252525 100%);
      border-bottom: 2px solid #FF5500;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .modal-header h2 {
        font-family: 'Oswald', sans-serif;
        color: #F0F0F0;
        margin: 0;
    }
    .close-modal {
      color: #B0B0B0;
      font-size: 1.5rem;
      font-weight: bold;
      cursor: pointer;
      transition: color 0.2s ease;
    }
    .close-modal:hover {
        color: #FF5500;
    }
    .modal-body {
      padding: 1.5rem;
    }
    .modal-footer {
      padding: 1rem 1.5rem;
      background: linear-gradient(90deg, #1A1A1A 0%, #252525 100%);
      border-top: 1px solid #333;
      display: flex;
      justify-content: flex-end;
      gap: 1rem;
    }
    .modal-input {
      width: 100%;
      padding: 0.7rem;
      margin-bottom: 1rem;
      background: #252525;
      color: #F0F0F0;
      border: 1px solid #333;
      border-radius: 6px;
      font-family: 'Montserrat', sans-serif;
    }
    .modal-input:focus {
        outline: none;
        border-color: #FF5500;
    }
    .modal-select {
      width: 100%;
      padding: 0.7rem;
      margin-bottom: 1rem;
      background: #252525;
      color: #F0F0F0;
      border: 1px solid #333;
      border-radius: 6px;
      font-family: 'Montserrat', sans-serif;
    }
    /* Стили для списка студентов */
    .student-list {
      max-height: 400px;
      overflow-y: auto;
    }
    .student-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.75rem;
      border-bottom: 1px solid #333;
      transition: background-color 0.2s ease;
    }
    .student-item:hover {
      background-color: rgba(255, 85, 0, 0.1);
    }
    .student-item:last-child {
      border-bottom: none;
    }
    .student-actions {
      display: flex;
      gap: 0.5rem;
    }
    .action-btn {
      background: none;
      border: none;
      color: #B0B0B0;
      cursor: pointer;
      padding: 0.3rem;
      border-radius: 4px;
      transition: all 0.2s ease;
    }
    .action-btn:hover {
      color: #FF5500;
      background-color: rgba(255, 85, 0, 0.1);
    }
    /* Адаптивность */
    @media (max-width: 768px) {
        .banner-card {
            padding: 1.5rem;
        }
        .banner-card h2 {
            font-size: 1.4rem;
        }
        .search-input {
            max-width: 100%;
        }
        .student-item {
            flex-direction: column;
            align-items: flex-start;
            gap: 0.5rem;
        }
        .student-actions {
            align-self: flex-end;
        }
        .header-controls {
            flex-direction: column;
            gap: 1rem;
            width: 100%;
        }
        .search-back-container {
            flex-direction: column;
            width: 100%;
        }
    }
    </style>
</head>
<body class="min-h-screen flex flex-col">
  <header class="py-4 px-4 sm:px-6">
    <div class="max-w-7xl mx-auto flex flex-col sm:flex-row justify-between items-center gap-4">
      <div class="text-center sm:text-left">
        <h1 class="text-2xl sm:text-3xl font-bold text-[#F0F0F0] font-display">NSK<span class="gradient-text">Hub</span></h1>
        <p class="text-sm text-[#B0B0B0] font-light mt-1">Нижневартовский Строительный Колледж</p>
      </div>
      <div class="header-controls flex flex-col sm:flex-row items-center gap-4 w-full sm:w-auto">
        <div class="font-size-toggle flex items-center bg-surface p-1 rounded-lg">
          <span class="text-xs sm:text-sm" onclick="changeFontSize('small')"><i class="fas fa-text-height"></i> М</span>
          <span class="text-sm sm:text-base" onclick="changeFontSize('medium')"><i class="fas fa-text-height"></i> С</span>
          <span class="text-base sm:text-lg" onclick="changeFontSize('large')"><i class="fas fa-text-height"></i> Б</span>
        </div>
        <div class="search-back-container flex items-center gap-4 w-full sm:w-auto">
          <div class="search-block w-full sm:w-auto">
            <i class="fas fa-search search-icon"></i>
            <input type="text" class="search-input" placeholder="Поиск студентов..." id="studentSearch">
          </div>
          <a href="index.html" class="nav-link px-3 py-2 rounded-lg hover:bg-surfaceLight transition-colors whitespace-nowrap"><i class="fas fa-arrow-left mr-2"></i> Назад</a>
        </div>
      </div>
    </div>
  </header>

  <main class="flex-1 max-w-7xl mx-auto py-8 px-4 sm:px-6">
    <div class="text-center mb-8">
        <h2 class="text-3xl font-bold text-[#F0F0F0] font-display mb-2">Моя группа</h2>
        <p class="text-[#B0B0B0]">Управление информацией о группе и студентах</p>
    </div>

    <!-- Панель управления -->
    <div class="flex flex-wrap gap-4 mb-6 p-4 bg-surface rounded-lg border border-gray-600">
        <button class="btn-primary" onclick="showAddStudentModal()">
            <i class="fas fa-user-plus mr-2"></i>Добавить студента
        </button>
        <button class="btn-secondary" onclick="showGroupSettingsModal()">
            <i class="fas fa-cog mr-2"></i>Настройки группы
        </button>
        <button class="btn-secondary" onclick="exportGroupData()">
            <i class="fas fa-download mr-2"></i>Экспорт данных
        </button>
        <button class="btn-secondary" onclick="importGroupData()">
            <i class="fas fa-upload mr-2"></i>Импорт данных
        </button>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- Основная информация о группе -->
        <section class="banner-card">
            <div class="banner-icon">
                <i class="fas fa-users"></i>
            </div>
            <h2>Основная информация</h2>
            <div id="groupInfo" class="space-y-3">
                <!-- Информация будет загружена через JavaScript -->
            </div>
            <div class="mt-4">
                <button class="btn-secondary w-full" onclick="showEditGroupModal()">
                    <i class="fas fa-edit mr-2"></i>Редактировать информацию
                </button>
            </div>
        </section>

        <!-- Список студентов -->
        <section class="banner-card">
            <div class="banner-icon">
                <i class="fas fa-user-graduate"></i>
            </div>
            <h2>Список студентов</h2>
            <div class="student-list" id="studentsList">
                <!-- Список студентов будет загружен через JavaScript -->
            </div>
            <div class="mt-4">
                <button class="btn-primary w-full" onclick="showAddStudentModal()">
                    <i class="fas fa-plus mr-2"></i>Добавить студента
                </button>
            </div>
        </section>

        <!-- Статистика группы -->
        <section class="banner-card">
            <div class="banner-icon">
                <i class="fas fa-chart-bar"></i>
            </div>
            <h2>Статистика группы</h2>
            <div id="groupStats" class="space-y-3">
                <!-- Статистика будет загружена через JavaScript -->
            </div>
        </section>

        <!-- Быстрые действия -->
        <section class="banner-card">
            <div class="banner-icon">
                <i class="fas fa-bolt"></i>
            </div>
            <h2>Быстрые действия</h2>
            <div class="space-y-3">
                <button class="btn-secondary w-full" onclick="generateAttendanceReport()">
                    <i class="fas fa-clipboard-list mr-2"></i>Отчёт по посещаемости
                </button>
                <button class="btn-secondary w-full" onclick="sendGroupNotification()">
                    <i class="fas fa-bell mr-2"></i>Уведомление группе
                </button>
                <button class="btn-secondary w-full" onclick="showScheduleModal()">
                    <i class="fas fa-calendar mr-2"></i>Расписание занятий
                </button>
            </div>
        </section>
    </div>
  </main>

  <footer class="py-6 px-4 sm:px-6">
    <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8">
      <div class="footer-section">
        <h3><i class="fas fa-link"></i> Полезные ссылки</h3>
        <p>
          <a href="https://nsk-sdo.ru/" class="footer-link"><i class="fas fa-chevron-right text-xs mr-2"></i> Дистанционное обучение</a>
          <a href="rules.html" class="footer-link"><i class="fas fa-chevron-right text-xs mr-2"></i> Правила распорядка</a>
          <a href="scholarship.html" class="footer-link"><i class="fas fa-chevron-right text-xs mr-2"></i> Стипендии и льготы</a>
        </p>
      </div>
      <div class="footer-section">
        <h3><i class="fas fa-phone"></i> Контакты</h3>
        <p class="text-[#B0B0B0] font-light">
          <span class="contact-highlight mt-3 block"><i class="fas fa-home mr-2"></i> Приёмная:</span> +7 (3466) 67-23-28<br>
          <a href="mailto:info@nskcollege.ru" class="footer-link"><i class="fas fa-envelope mr-2"></i> info@nskcollege.ru</a><br>
          <span class="contact-highlight mt-3 block"><i class="fas fa-home mr-2"></i> Общежитие:</span> +7 (3466) 67-02-38<br>
          <a href="mailto:hostel@nskcollege.ru" class="footer-link"><i class="fas fa-envelope mr-2"></i> hostel@nskcollege.ru</a>
        </p>
      </div>
      <div class="footer-section">
        <h3><i class="fas fa-clock"></i> Режим работы</h3>
        <p class="text-[#B0B0B0] font-light mb-4">
          <i class="fas fa-calendar-day mr-2"></i> Пн-Пт: <span class="text-[#F0F0F0]">09:00–17:00</span><br>
          <i class="fas fa-calendar-day mr-2"></i> Сб: <span class="text-[#F0F0F0]">09:00–13:00</span><br>
          <i class="fas fa-calendar-times mr-2"></i> Вс: <span class="text-[#F0F0F0]">выходной</span>
        </p>
        <p>
            <a href="https://vk.com/public216209140" class="btn-primary" target="_blank"><i class="fab fa-vk mr-2"></i> Наш ВКонтакте</a>
        </p>
        <p class="text-xs text-[#777] mt-4">
          © 2025 NSKHub. Все права защищены.<br>
          <a href="privacy.html" class="footer-link hover:underline">Политика конфиденциальности</a>
        </p>
      </div>
    </div>
  </footer>

  <!-- Модальные окна -->
  <div id="addStudentModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Добавить студента</h2>
        <span class="close-modal" onclick="closeModal('addStudentModal')">&times;</span>
      </div>
      <div class="modal-body">
        <input type="text" id="studentName" class="modal-input" placeholder="ФИО студента">
        <input type="email" id="studentEmail" class="modal-input" placeholder="Email">
        <input type="tel" id="studentPhone" class="modal-input" placeholder="Телефон">
        <select id="studentStatus" class="modal-select">
          <option value="active">Активный</option>
          <option value="inactive">Неактивный</option>
          <option value="academic_leave">Академический отпуск</option>
        </select>
      </div>
      <div class="modal-footer">
        <button class="btn-secondary" onclick="closeModal('addStudentModal')">Отмена</button>
        <button class="btn-primary" onclick="addStudent()">Добавить</button>
      </div>
    </div>
  </div>

  <div id="editGroupModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Редактировать группу</h2>
        <span class="close-modal" onclick="closeModal('editGroupModal')">&times;</span>
      </div>
      <div class="modal-body">
        <input type="text" id="groupName" class="modal-input" placeholder="Название группы">
        <input type="text" id="groupCurator" class="modal-input" placeholder="Куратор">
        <input type="text" id="groupSpecialty" class="modal-input" placeholder="Специальность">
        <input type="number" id="groupCourse" class="modal-input" placeholder="Курс">
      </div>
      <div class="modal-footer">
        <button class="btn-secondary" onclick="closeModal('editGroupModal')">Отмена</button>
        <button class="btn-primary" onclick="saveGroupInfo()">Сохранить</button>
      </div>
    </div>
  </div>

  <script>
    // Данные группы
    let groupData = {
        name: 'ИС-25',
        curator: '',
        specialty: 'Информационные системы',
        course: 2,
        students: []
    };

    // Загрузка данных из localStorage
    function loadGroupData() {
        const saved = localStorage.getItem('nskGroupData');
        if (saved) {
            groupData = JSON.parse(saved);
        }
        renderGroupData();
    }

    // Сохранение данных в localStorage
    function saveGroupData() {
        localStorage.setItem('nskGroupData', JSON.stringify(groupData));
        renderGroupData();
    }

    // Отрисовка данных группы
    function renderGroupData() {
        // Основная информация
        document.getElementById('groupInfo').innerHTML = `
            <div><span class="contact-highlight">Группа:</span> ${groupData.name}</div>
            <div><span class="contact-highlight">Куратор:</span> ${groupData.curator || 'Не указан'}</div>
            <div><span class="contact-highlight">Специальность:</span> ${groupData.specialty}</div>
            <div><span class="contact-highlight">Курс:</span> ${groupData.course}</div>
            <div><span class="contact-highlight">Количество студентов:</span> ${groupData.students.length}</div>
        `;

        // Список студентов
        const studentsList = document.getElementById('studentsList');
        studentsList.innerHTML = groupData.students.length > 0 ?
            groupData.students.map((student, index) => `
                <div class="student-item">
                    <div>
                        <div class="font-semibold">${student.name}</div>
                        <div class="text-sm text-[#B0B0B0]">${student.email} • ${student.phone}</div>
                        <span class="text-xs px-2 py-1 rounded ${
                            student.status === 'active' ? 'bg-green-600' :
                            student.status === 'inactive' ? 'bg-red-600' : 'bg-yellow-600'
                        }">${getStatusText(student.status)}</span>
                    </div>
                    <div class="student-actions">
                        <button class="action-btn" onclick="editStudent(${index})" title="Редактировать">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="action-btn" onclick="deleteStudent(${index})" title="Удалить">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            `).join('') :
            '<div class="text-center text-[#B0B0B0] py-4">Студенты не добавлены</div>';

        // Статистика
        const activeStudents = groupData.students.filter(s => s.status === 'active').length;
        document.getElementById('groupStats').innerHTML = `
            <div><span class="contact-highlight">Всего студентов:</span> ${groupData.students.length}</div>
            <div><span class="contact-highlight">Активных:</span> ${activeStudents}</div>
            <div><span class="contact-highlight">Неактивных:</span> ${groupData.students.length - activeStudents}</div>
            <div><span class="contact-highlight">Заполненность:</span> ${Math.round((groupData.students.length / 30) * 100)}%</div>
        `;
    }

    function getStatusText(status) {
        const statusMap = {
            'active': 'Активный',
            'inactive': 'Неактивный',
            'academic_leave': 'Академотпуск'
        };
        return statusMap[status] || status;
    }

    // Функции для модальных окон
    function showModal(modalId) {
        document.getElementById(modalId).style.display = 'block';
    }

    function closeModal(modalId) {
        document.getElementById(modalId).style.display = 'none';
    }

    function showAddStudentModal() {
        document.getElementById('studentName').value = '';
        document.getElementById('studentEmail').value = '';
        document.getElementById('studentPhone').value = '';
        document.getElementById('studentStatus').value = 'active';
        showModal('addStudentModal');
    }

    function showEditGroupModal() {
        document.getElementById('groupName').value = groupData.name;
        document.getElementById('groupCurator').value = groupData.curator;
        document.getElementById('groupSpecialty').value = groupData.specialty;
        document.getElementById('groupCourse').value = groupData.course;
        showModal('editGroupModal');
    }

    // Добавление студента
    function addStudent() {
        const name = document.getElementById('studentName').value.trim();
        const email = document.getElementById('studentEmail').value.trim();
        const phone = document.getElementById('studentPhone').value.trim();
        const status = document.getElementById('studentStatus').value;

        if (name) {
            groupData.students.push({
                name,
                email,
                phone,
                status,
                id: Date.now()
            });
            saveGroupData();
            closeModal('addStudentModal');
            showNotification('Студент добавлен');
        } else {
            alert('Пожалуйста, введите ФИО студента');
        }
    }

    // Редактирование студента
    function editStudent(index) {
        const student = groupData.students[index];
        if (confirm(`Редактировать студента ${student.name}?`)) {
            const newName = prompt('ФИО студента:', student.name);
            if (newName) {
                groupData.students[index].name = newName;
                saveGroupData();
                showNotification('Данные студента обновлены');
            }
        }
    }

    // Удаление студента
    function deleteStudent(index) {
        const student = groupData.students[index];
        if (confirm(`Удалить студента ${student.name}?`)) {
            groupData.students.splice(index, 1);
            saveGroupData();
            showNotification('Студент удалён');
        }
    }

    // Сохранение информации о группе
    function saveGroupInfo() {
        groupData.name = document.getElementById('groupName').value;
        groupData.curator = document.getElementById('groupCurator').value;
        groupData.specialty = document.getElementById('groupSpecialty').value;
        groupData.course = parseInt(document.getElementById('groupCourse').value);
        saveGroupData();
        closeModal('editGroupModal');
        showNotification('Информация о группе сохранена');
    }

    // Поиск студентов
    document.getElementById('studentSearch').addEventListener('input', function(e) {
        const searchTerm = e.target.value.toLowerCase();
        const studentItems = document.querySelectorAll('.student-item');

        studentItems.forEach(item => {
            const text = item.textContent.toLowerCase();
            item.style.display = text.includes(searchTerm) ? 'flex' : 'none';
        });
    });

    // Дополнительные функции
    function generateAttendanceReport() {
        showNotification('Отчёт по посещаемости сгенерирован');
    }

    function sendGroupNotification() {
        const message = prompt('Введите сообщение для группы:');
        if (message) {
            showNotification('Уведомление отправлено группе');
        }
    }

    function showScheduleModal() {
        showNotification('Переход к расписанию группы');
        // В реальном приложении здесь будет переход на страницу расписания
    }

    function exportGroupData() {
        const dataStr = JSON.stringify(groupData, null, 2);
        const dataBlob = new Blob([dataStr], {type: 'application/json'});
        const url = URL.createObjectURL(dataBlob);
        const link = document.createElement('a');
        link.href = url;
        link.download = `group_${groupData.name}_data.json`;
        link.click();
        showNotification('Данные группы экспортированы');
    }

    function importGroupData() {
        const input = document.createElement('input');
        input.type = 'file';
        input.accept = '.json';
        input.onchange = e => {
            const file = e.target.files[0];
            const reader = new FileReader();
            reader.onload = event => {
                try {
                    const importedData = JSON.parse(event.target.result);
                    groupData = importedData;
                    saveGroupData();
                    showNotification('Данные группы импортированы');
                } catch (error) {
                    alert('Ошибка при импорте файла');
                }
            };
            reader.readAsText(file);
        };
        input.click();
    }

    function showGroupSettingsModal() {
        showNotification('Настройки группы открыты');
        // В реальном приложении здесь будет модальное окно с настройками
    }

    function showNotification(message) {
        // Создание временного уведомления
        const notification = document.createElement('div');
        notification.className = 'fixed top-4 right-4 bg-primary text-white px-4 py-2 rounded-lg shadow-lg z-50';
        notification.textContent = message;
        document.body.appendChild(notification);

        setTimeout(() => {
            notification.remove();
        }, 3000);
    }

    function changeFontSize(size) {
      const root = document.documentElement;
      if (size === 'small') {
        root.style.fontSize = '13px';
      } else if (size === 'medium') {
        root.style.fontSize = '15px';
      } else if (size === 'large') {
        root.style.fontSize = '17px';
      }
    }

    // Закрытие модальных окон при клике вне их
    window.onclick = function(event) {
        if (event.target.classList.contains('modal')) {
            event.target.style.display = 'none';
        }
    }

    // Инициализация при загрузке
    document.addEventListener('DOMContentLoaded', () => {
        changeFontSize('medium');
        loadGroupData();
    });
  </script>
</body>
</html>

